<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>Graph editor</title>
	<link rel="stylesheet" href="graph.css" media="screen">
    <link id="CSS" rel="stylesheet" href="lite.css" media="screen">
	<link rel="stylesheet" href="../dijit/themes/claro/claro.css" media="screen">
    <script type="text/javascript">function SetCSS(f){document.getElementById('CSS').href = f;}</script>
</head>
<body class="claro">
    <ul class="hmenu">
        <li> Файл </li>
        <li> Правка </li>
        <li> Вид 
            <ul>
                <li> Тема 
                    <ul>
                        <li onclick="SetCSS('matrix.css')"> Matrix </li>
                        <li onclick="SetCSS('lite.css')"> Lite </li>
                    </ul>
                </li>
                
            </ul>
        </li>
        <li> Создать </li>
    </ul>
    <div class="dijitHidden">
        <div data-dojo-type="dijit/Dialog" data-dojo-props="title:'Введите имя'" id="savedialog">
            <select data-dojo-type="dijit/form/ComboBox" id="savename"></select>
            <button onclick="OnSaveButton()">Сохранить</button>
            <button onclick="hideSaveDialog()">Отмена</button>
        </div>
        <div data-dojo-type="dijit/Dialog" data-dojo-props="title:'Выберите имя'" id="loaddialog">
            <select data-dojo-type="dijit/form/MultiSelect" id="loadname" style="height:100px; width:200px;" ondblclick="OnLoadButton()"></select><br>
            <button onclick="OnLoadButton()">Загрузить</button>
            <button onclick="hideLoadDialog()">Отмена</button>
        </div>
        <div data-dojo-type="dijit/Dialog" data-dojo-props="title:'Свойства блока'" id="blockdialog">
            <textarea data-dojo-type="dijit/form/SimpleTextarea" id="blocktext"></textarea><br>
            Тип <select data-dojo-type="dijit/form/ComboBox" id="blocktype"></select><br>
            <button onclick="MouseObject.OnOk()">Ok</button>
            <button onclick="hideBlockDialog()">Отмена</button>
        </div>
    </div>
	<!--<div id="mainMenu" data-dojo-type="dijit/MenuBar"></div>-->
	<script src="../dojo/dojo.js" data-dojo-config="isDebug:1, async:1"></script>
	<script>
        var OnSaveButton = function(){hideSaveDialog();};
        var OnLoadButton = function(){hideLoadDialog();};
        require([
            "dojo/dom",
            "dojo/parser",
            "dijit/registry",
            "dijit/WidgetSet", // for registry.byClass
            "dijit/Dialog",
            "dijit/form/ComboBox",
            "dijit/form/MultiSelect",
            "dijit/form/SimpleTextarea",
            "dojo/domReady!"
        ], function(dom, parser, registry){
            window.showSaveDialog = function() {registry.byId('savedialog').show();}
            window.hideSaveDialog = function() {registry.byId("savedialog").hide();}
            window.showLoadDialog = function() {registry.byId('loaddialog').show();}
            window.hideLoadDialog = function() {registry.byId("loaddialog").hide();}
            window.showBlockDialog = function() {registry.byId('blockdialog').show();}
            window.hideBlockDialog = function() {registry.byId("blockdialog").hide();}
			parser.parse();
		});
	</script>
<br>
<script src="main.js"></script>
<script src="menu.js"></script>
<script src="navi.js"></script>
<script src="grid.js"></script>
<script src="pnl.js"></script>
<script src="arrow.js"></script>
<script src="block.js"></script>
<script src="arcs.js"></script>
<script src="user.js"></script>
<script src="db.js"></script>
<canvas id='canvas' width="800" height="600" oncontextmenu="Main.Redraw()">Обновите браузер</canvas>
<script>Main.Init()</script>
</body>
</html>
